<!DOCTYPE html>
<html lang="en">
    <head>
        <title>To-Do List</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='todo.css') }}">
    </head>
    
<body>


    <nav class="navbar">
        <div class="logo"><span class="taskflow-font">TaskFlow</span></div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#tasks">Tasks</a></li>
            <li><a href="#timer">Timer</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="nav-buttons">
            <a href="{{ url_for('logout') }}" class="btn logout-btn">Log Out</a>
            <button id="toggleMode" class="btn mode-btn">Light Mode</button>
        </div>
    </nav>

  

    <section id="home" class="landing-page">
        <img src="{{ url_for('static', filename='computer.jpeg') }}" alt="Background Image" class="home-bg">
        <div class="landing-content">
            <h1 class="fade-in">Stay Organised, Stay Productive</h1>
            <p class="fade-in">Scroll Down for Task Tracker </p>
            
            <div class="icon-container fade-in">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-stopwatch" viewBox="0 0 16 16">
                    <path d="M8.5 5.6a.5.5 0 1 0-1 0v2.9h-3a.5.5 0 0 0 0 1H8a.5.5 0 0 0 .5-.5z"/>
                    <path d="M6.5 1A.5.5 0 0 1 7 .5h2a.5.5 0 0 1 0 1v.57c1.36.196 2.594.78 3.584 1.64l.012-.013.354-.354-.354-.353a.5.5 0 0 1 .707-.708l1.414 1.415a.5.5 0 1 1-.707.707l-.353-.354-.354.354-.013.012A7 7 0 1 1 7 2.071V1.5a.5.5 0 0 1-.5-.5M8 3a6 6 0 1 0 .001 12A6 6 0 0 0 8 3"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">
                    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                    <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-journal" viewBox="0 0 16 16">
                    <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                    <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                  </svg>
            </div>
        </div>
    </section>
    
    
    <section id="tasks">
        <h2>To-Do List</h2>
        <div class="container">
            <div class="todo-section">
                <h3>Your Tasks</h3>
                <form method="POST">
                    <input type="text" name="task" placeholder="New Task" required>
                    <button type="submit">Add Task</button>
                </form>
                <ul>
                    {% for task in tasks %}
                        <li>
                            {{ task[1] }}
                            <form action="{{ url_for('delete_task', task_id=task[0]) }}" method="POST">
                                <button type="submit" class="delete-btn">Remove</button>
                            </form>
                        </li>
                    {% endfor %}
                </ul>
            </div>
    
            <div class="quote-section">
                <h3>Motivational Quotes ({{ quote_count }})</h3>
                <ul>
                    {% for quote in quotes %}
                        <li>
                            {{ loop.index }}. {{ quote[1] }} {{ quote[2] }}
                            <form action="{{ url_for('delete_quote', quote_id=quote[0]) }}" method="POST">
                                <button type="submit" class="delete-btn">Remove</button>
                            </form>
                        </li>
                    {% endfor %}
                </ul>
                <form method="POST" action="{{ url_for('add_quote') }}">
                    <input type="text" name="quote" placeholder="New Quote" required>
                    <input type="text" name="emoji" placeholder="Emoji (optional)">
                    <button type="submit">Add Quote</button>
                </form>
            </div>
        </div>
    </section>
    
    <section id="timer">
        <h2>Timer Section (Coming Soon)</h2>
    </section>
    
    <section id="contact">
        <div class="contact-container">
            <!-- Left: Contact Form -->
            <div class="contact-form">
                <h2>Get in Touch !</h2>
                <p>Please fill out the quick form and I will be in touch in good time.</p>
                
                <form name="submit-to-google-sheet">
                    <input type="text" name="Name" placeholder="Name" required>
                    <input type="email" name="Email" placeholder="Your email address" required>
                    <textarea name="Message" rows="4" placeholder="Message"></textarea>
                    <button type="submit" class="btn submit-btn">Submit</button>
                </form>
                <span id="msg"></span>
            </div>
    
            <!-- Right: Contact Info -->
            <div class="contact-info">
                <h3>Connect with me:</h3>
                <p>For support or any questions:</p>
                <p>Email me at <a href="mailto:support@taskflow.com">supportingyou@taskflow.com</a></p>
    
                <h4>Taskflow City</h4>
                <p>123 Productivity Road, Suite 2,<br> The Tasks Avenue 56632 <br> UK</p>

                <h4>TaskFlow Town</h4>
                <p>456 Working Road, Suite 6,<br> Management Street 456<br> UK</p>

            </div>
        </div>
    </section>
    
    
   
    
    
    <div class="copyright">
        <p>Made by Jiali Huang. All Rights Reserved</p>
    </div>
    
    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbzmL3F2sHl3M32zbpw8ct-HGrSs3PDfprF8049zlXi7YF-X-bxanU_zeMDjP6XCeoN5/exec";
        const form = document.forms["submit-to-google-sheet"];
        const msg = document.getElementById("msg");
        
        if (!form) {
            console.error("‚ùå Form not found! Check the form name.");
        } else {
            console.log("‚úÖ Form detected successfully.");
        }
        
        form.addEventListener("submit", e => {
            e.preventDefault();
            console.log("üì© Form submitted!");
        
            fetch(scriptURL, { method: "POST", body: new FormData(form) })
                .then(response => {
                    console.log("‚úÖ Response received:", response);
                    msg.innerHTML = "‚úÖ Message sent successfully!";
                    msg.style.color = "green";
                    setTimeout(() => { msg.innerHTML = ""; }, 5000);
                    form.reset();
                })
                .catch(error => {
                    console.error("‚ùå Error:", error.message);
                    msg.innerHTML = "‚ùå Failed to send message!";
                    msg.style.color = "red";
                });
        });
        
    </script>
</body>
</html>
